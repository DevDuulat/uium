<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Black UI Kit - Combobox (Alpine.js)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .custom-scroll::-webkit-scrollbar {
        width: 4px;
      }
      .custom-scroll::-webkit-scrollbar-thumb {
        background: #e4e4e7;
        border-radius: 10px;
      }
      [x-cloak] {
        display: none !important;
      }
    </style>
  </head>
  <body class="bg-white selection:bg-black selection:text-white text-zinc-900">
    <div class="max-w-2xl mx-auto py-20 px-6">
      <div class="mb-16 border-b border-zinc-100 pb-10 text-center">
        <h1 class="text-3xl font-bold text-black tracking-tight mb-2">
          Combobox
        </h1>
        <p class="text-zinc-500">Alpine.js + Tailwind CSS</p>
      </div>

      <div
        class="relative w-full max-w-sm mx-auto"
        x-data="{ 
          open: false, 
          search: '', 
          items: ['React', 'Vue.js', 'Angular', 'Svelte', 'Next.js', 'Nuxt.js', 'Remix', 'Astro', 'Solid.js'],
          get filteredItems() {
            return this.items.filter(i => i.toLowerCase().includes(this.search.toLowerCase()))
          }
        }"
        @click.outside="open = false"
      >
        <label class="block text-sm font-medium text-zinc-700 mb-1.5 ml-1"
          >Выберите технологию</label
        >

        <div class="relative">
          <input
            type="text"
            x-model="search"
            @focus="open = true"
            @input="open = true"
            placeholder="Поиск фреймворка..."
            class="w-full h-11 pl-4 pr-10 bg-white border border-zinc-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all placeholder:text-zinc-400"
          />
          <div
            class="absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              class="w-4 h-4 transition-transform duration-200"
              :class="open ? 'rotate-180' : ''"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M19.5 8.25l-7.5 7.5-7.5-7.5"
              />
            </svg>
          </div>
        </div>

        <div
          x-show="open"
          x-cloak
          x-transition:enter="transition ease-out duration-100"
          x-transition:enter-start="opacity-0 scale-95"
          x-transition:enter-end="opacity-100 scale-100"
          x-transition:leave="transition ease-in duration-75"
          x-transition:leave-start="opacity-100 scale-100"
          x-transition:leave-end="opacity-0 scale-95"
          class="absolute z-50 w-full mt-2 bg-white border border-zinc-100 rounded-xl shadow-2xl shadow-zinc-200/50 overflow-hidden"
        >
          <div class="max-h-60 overflow-y-auto custom-scroll py-1">
            <template x-for="item in filteredItems" :key="item">
              <div
                @click="search = item; open = false"
                class="px-4 py-2.5 text-sm text-zinc-700 hover:bg-black hover:text-white cursor-pointer transition-colors flex items-center justify-between group"
              >
                <span x-text="item"></span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  class="w-4 h-4 opacity-0 group-hover:opacity-100"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
            </template>

            <div
              x-show="filteredItems.length === 0"
              class="px-4 py-8 text-center text-sm text-zinc-400"
            >
              Ничего не найдено...
            </div>
          </div>
        </div>
      </div>

      <div class="mt-12 p-6 bg-zinc-50 rounded-2xl border border-zinc-100">
        <p class="text-xs text-zinc-500 leading-relaxed">
          Компонент реализован на <strong>Alpine.js</strong>. Используется
          директива <code class="bg-zinc-200 px-1 rounded">x-model</code> для
          двусторонней связи и
          <code class="bg-zinc-200 px-1 rounded">x-show</code> с нативными
          переходами (transitions).
        </p>
      </div>

      <div class="fixed bottom-10 left-1/2 -translate-x-1/2">
        <a
          href="index.html"
          class="px-4 py-2 bg-white/80 backdrop-blur-md border border-zinc-200 rounded-full text-[10px] font-bold uppercase tracking-widest text-zinc-400 hover:text-black transition-colors"
        >
          Back to Library
        </a>
      </div>
    </div>
  </body>
</html>
